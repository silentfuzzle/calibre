  <!DOCTYPE html> 
  <meta charset="utf-8">
  <body> 
 <style> 
.link {  
stroke: #666;
opacity: 0.6;
stroke-width: 1.5px; 
} 
.node circle { 
stroke: #fff; 
opacity: 0.6;
stroke-width: 1.5px; 
} 
text { 
font: 7px serif; 
opacity: 0.6;
pointer-events: none; 
} 
</style> 

<script src=d3.v3.min.js></script>

<script> 
//License GPL v3
//Copyright (C) 2014, Emily Palmieri <silentfuzzle@gmail.com>

//d3.json("eBookGraph.json", dataLoaded)

//var data = {"directed": true, "graph": [], "nodes": [{"label": "5.0", "id": "5.0", "title": "Adventurous Reader"}, {"label": "8.0", "id": "8.0", "title": "Displaying an eBook as a Website Instead of a Webpage"}, {"label": "2.0", "id": "2.0", "title": "About the Author"}, {"label": "55.0", "id": "55.0", "title": "Jadu Calendar"}, {"label": "14.0", "id": "14.0", "title": "What's the problem with presenting a non-linear story in a linear format?"}, {"label": "35.0", "id": "35.0", "title": "Ramda"}, {"label": "16.0", "id": "16.0", "title": "Jigo Kadas"}, {"label": "24.0", "id": "24.0", "title": "Kadas (People)"}, {"label": "3.0", "id": "3.0", "title": "About Pajar"}, {"label": "32.0", "id": "32.0", "title": "Zarkis"}, {"label": "1", "id": "1", "title": "Pajar"}, {"label": "31.0", "id": "31.0", "title": "Kadas (Planet)"}, {"label": "44.0", "id": "44.0", "title": "Baltarik Military"}, {"label": "23.0", "id": "23.0", "title": "Barkes Lookup"}, {"label": "28.0", "id": "28.0", "title": "Kadas (Bloodline)"}, {"label": "47.0", "id": "47.0", "title": "The Ramda Choosing"}, {"label": "20.0", "id": "20.0", "title": "Kadas (Disambiguation)"}, {"label": "40.0", "id": "40.0", "title": "Baltarik"}, {"label": "21.0", "id": "21.0", "title": "Portisk"}], "links": [{"source": 8, "target": 0}], "multigraph": false}
//dataLoaded(data)

function loadNetwork(jsonPath) {
    alert (jsonPath)
    d3.json(jsonPath, dataLoaded)
    alert ("next")
}

function dataLoaded(data) {
        var links = data.links
        var nodes = data.nodes
        
    // Compute the distinct nodes from the links.
    links.forEach(function(link) {
        link.source = nodes[link.source] || 
        (nodes[link.source] = {name: link.source});
        link.target = nodes[link.target] || 
        (nodes[link.target] = {name: link.target});
        link.value = +link.value;
    });

    var width = 500
    height = 500;

    var force = d3.layout.force() 
        .nodes(d3.values(nodes)) 
        .links(links) 
        .size([width, height]) 
        .linkDistance(50) 
        .charge(-200) 
        .on("tick", tick) 
        .start(); 

    var svg = d3.select("body")
        .append("svg")
          .attr({
            "width": "100%",
            "height": "100%"
          })
          .attr("viewBox", "0 0 " + width + " " + height )
          .attr("preserveAspectRatio", "xMidYMid meet")
          .attr("pointer-events", "all")
        .call(d3.behavior.zoom().on("zoom", redraw));

    var vis = svg
        .append('svg:g');

    function redraw() {
      vis.attr("transform",
          "translate(" + d3.event.translate + ")"
          + " scale(" + d3.event.scale + ")");
    }

    var link = svg.selectAll(".link") 
        .data(force.links()) 
        .enter().append("line") 
        .attr("class", "link")
        .style("opacity", 0.4); 

    var node = svg.selectAll(".node") 
        .data(force.nodes()) 
        .enter().append("g") 
        .attr("class", "node") 
        .on("mouseover", mouseover) 
        .on("mouseout", mouseout) 
        .on("click", click)
        .on("dblclick", dblclick)
        .call(force.drag); 

    node.append("circle") 
        .attr("r", 8)
        .style("fill", "#3182bd");

    node.append("text") 
        .attr("x", 12) 
        .attr("dy", ".35em") 
        .attr("page", function(d) { return d.id; })
        .style("fill", "#000000")
        .text(function(d) { return d.title; });

    function tick() { 
        link 
        .attr("x1", function(d) { return d.source.x; }) 
        .attr("y1", function(d) { return d.source.y; }) 
        .attr("x2", function(d) { return d.target.x; }) 
        .attr("y2", function(d) { return d.target.y; }); 

        node.attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; }); 
    }
}
 
function mouseover() { 
    d3.select(this).select("text").transition()
    .duration(750)
    .attr("x", 22)
    .style("stroke-width", ".5px")
    .style("opacity", 1)
    .style("font", "17.5px serif");
    d3.select(this).select("circle").transition() 
    .duration(750) 
    .attr("r", 16); 
} 

function mouseout() { 
    d3.select(this).select("circle").transition() 
    .duration(750) 
    .attr("r", 8); 
    d3.select(this).select("text").transition()
    .duration(750)
    .attr("x", 12)
    .style("stroke", "none")
    .style("stroke", "none")
    .style("opacity", 0.6)
    .style("font", "7px serif");
} 
// action to take on mouse click
function click() {
    pageNum = d3.select(this).select("text").attr("page")
    container.change_page(pageNum)
}

// action to take on mouse double click
function dblclick() {
    d3.select(this).select("circle").transition()
    .duration(750)
    .attr("r", 6);
}

</script>
 </body>